var feedbackOpen=document.querySelector(".feedback-modal-open"),feedback=document.querySelector(".modal-feedback"),mapOpen=document.querySelector(".map"),map=document.querySelector(".map-popup"),cartOpen=document.querySelectorAll(".buy-btn"),cart=document.querySelector(".modal-cart"),close=document.querySelectorAll(".modal-close"),modal=document.querySelectorAll(".modal"),overlay=document.querySelector(".overlay"),modalOpen=function(e){e.classList.add("modal-show"),overlay.classList.add("overlay-show")},modalClose=function(){for(var e=0;e<modal.length;e++)modal[e].classList.remove("modal-show"),modal[e].classList.remove("modal-error");overlay.classList.remove("overlay-show")};if(feedback){var feedbackForm=feedback.querySelector(".feedback-form"),username=feedback.querySelector(".name-field"),email=feedback.querySelector(".email-field"),comment=feedback.querySelector(".comment-field"),isStorageSupport=!0,nameStorage="",emailStorage="";try{nameStorage=localStorage.getItem("username"),emailStorage=localStorage.getItem("email")}catch(e){isStorageSupport=!1}feedbackOpen.addEventListener("click",function(e){e.preventDefault(),modalOpen(feedback),nameStorage&&emailStorage?(username.value=nameStorage,email.value=emailStorage,comment.focus()):username.focus()}),feedbackForm.addEventListener("submit",function(e){username.value&&email.value&&comment.value?(isStorageSupport&&(localStorage.setItem("username",username.value),localStorage.setItem("email",email.value)),overlay.classList.remove("overlay-show")):(e.preventDefault(),feedback.classList.remove("modal-error"),feedback.offsetWidth=feedback.offsetWidth,feedback.classList.add("modal-error"))})}map&&mapOpen.addEventListener("click",function(e){e.preventDefault(),modalOpen(map)});for(var i=0;i<cartOpen.length;i++)cartOpen[i].addEventListener("click",function(e){e.preventDefault(),modalOpen(cart)});for(i=0;i<close.length;i++)close[i].addEventListener("click",function(e){e.preventDefault(),modalClose()});window.addEventListener("keydown",function(e){if(27===e.keyCode){for(var r=0;r<modal.length;r++)modal[r].classList.contains("modal-show")&&(e.preventDefault(),modal[r].classList.remove("modal-show")),modal[r].classList.remove("modal-error");overlay.classList.remove("overlay-show")}}),overlay.addEventListener("click",function(e){e.preventDefault(),modalClose()});var deliveryTab=document.querySelector("#delivery + label"),warantyTab=document.querySelector("#waranty + label"),creditTab=document.querySelector("#credit + label"),servicesSlider=document.querySelectorAll(".services-slider-item"),servicesSliderDelivery=document.querySelector(".services-slider-delivery"),servicesSliderWaranty=document.querySelector(".services-slider-waranty"),servicesSliderCredit=document.querySelector(".services-slider-credit"),clickTab=function(e){if(e===deliveryTab)var r=servicesSliderDelivery;e===warantyTab&&(r=servicesSliderWaranty),e===creditTab&&(r=servicesSliderCredit),e.addEventListener("click",function(e){for(i=0;i<servicesSlider.length;i++)servicesSlider[i].classList.remove("services-slider-active");r.classList.add("services-slider-active")})};deliveryTab&&clickTab(deliveryTab),warantyTab&&clickTab(warantyTab),creditTab&&clickTab(creditTab);var promoSlider=document.querySelectorAll(".promo-slider-item"),promoControl=document.querySelectorAll(".promo-control"),promoDrillsBtn=document.querySelector(".promo-slider-drills .circle-control:first-of-type"),promoPerfoBtn=document.querySelector(".promo-slider-perforators .circle-control:last-of-type");if(promoSlider){for(i=0;i<promoControl.length;i++)promoControl[i].addEventListener("click",function(e){for(e.preventDefault(),j=0;j<promoSlider.length;j++)promoSlider[j].classList.toggle("promo-slider-active")});var promoSliderBtn=function(e){e.addEventListener("click",function(e){for(e.preventDefault(),j=0;j<promoSlider.length;j++)promoSlider[j].classList.toggle("promo-slider-active")})};promoSliderBtn(promoDrillsBtn),promoSliderBtn(promoPerfoBtn)}
